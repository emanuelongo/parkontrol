<div class="facturacion-container">
  @if (loading) {
    <div class="loading-container">
      <mat-spinner diameter="40"></mat-spinner>
      <p>Cargando facturacion...</p>
    </div>
  } @else {
    @if (facturacionData.length > 0) {
      <div class="table-container">
        <table mat-table [dataSource]="facturacionData" class="facturacion-table mat-elevation-z1">
            
        <ng-container matColumnDef="cufe">
          <th mat-header-cell *matHeaderCellDef>CUFE</th>
          <td mat-cell *matCellDef="let element">
            <span class="cufe-text">{{ element.cufe }}</span>
          </td>
        </ng-container>



        <ng-container matColumnDef="nombreCliente">
          <th mat-header-cell *matHeaderCellDef>Cliente</th>
          <td mat-cell *matCellDef="let element">{{ element.nombreCliente }}</td>
        </ng-container>

        <ng-container matColumnDef="numeroDocumento">
          <th mat-header-cell *matHeaderCellDef>Documento</th>
          <td mat-cell *matCellDef="let element">{{ element.numeroDocumento }}</td>
        </ng-container>

    
        <ng-container matColumnDef="placa">
          <th mat-header-cell *matHeaderCellDef>Placa</th>
          <td mat-cell *matCellDef="let element">{{ element.placa }}</td>
        </ng-container>

     
        <ng-container matColumnDef="nombreParqueadero">
          <th mat-header-cell *matHeaderCellDef>Parqueadero</th>
          <td mat-cell *matCellDef="let element">{{ element.nombreParqueadero }}</td>
        </ng-container>

    
        <ng-container matColumnDef="monto">
          <th mat-header-cell *matHeaderCellDef>Monto</th>
          <td mat-cell *matCellDef="let element">
            <span class="monto">{{ element.monto | currency: 'COP':'symbol':'1.2-2' }}</span>
          </td>
        </ng-container>



        <ng-container matColumnDef="fechaPago">
          <th mat-header-cell *matHeaderCellDef>Fecha Pago</th>
          <td mat-cell *matCellDef="let element">{{ element.fechaPago | date: 'dd/MM/yyyy HH:mm' }}</td>
        </ng-container>

  
        <ng-container matColumnDef="enviada">
            
          <th mat-header-cell *matHeaderCellDef>Estado</th>
          <td mat-cell *matCellDef="let element">
            <div class="estado-container">
              <mat-icon [class]="element.enviada ? 'estado-enviada' : 'estado-pendiente'">
                {{ element.enviada ? 'check_circle' : 'pending' }}
              </mat-icon>
              <span [class]="element.enviada ? 'texto-enviada' : 'texto-pendiente'">
                {{ element.enviada ? 'Enviada' : 'Pendiente' }}
              </span>
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </div>
    } @else {
      <div class="sin-datos">
        <p>No se encontraron datos de facturaci√≥n para mostrar.</p>
      </div>
    }
  }
</div>